import { useFlubber } from "@/animations/use-flubber";
import SVGMorph from "./svgMorph";
import { Suspense } from "react";
import { cubicBezier, motion, useMotionValue, useScroll, useTransform } from "framer-motion";
import useViewportSize from "@/hooks/useViewportSize";

const p =
  "m 0 11 l 6.8 -1.5 c 6.9 -1.5 20.5 -4.5 34.2 -3.7 c 13.7 0.9 27.3 5.5 41 11.9 c 13.7 6.3 25.76 32.51 39.46 31.21 c 13.7 -1.4 28.84 -30.21 42.54 -36.11 c 13.7 -5.8 30.89 -0.71 44.39 5.09 c 13.5 5.9 23.67 17.29 37.17 20.49 s 26.74 -8.08 40.44 -14.88 s 27.23 -10.05 40.93 -12.05 s 27.37 -2.75 41.07 0.55 s 28.06 16.55 41.76 15.55 s 26.54 -16.25 40.24 -15.75 s 27.13 27.18 40.83 26.28 c 13.7 -0.8 28.45 -20.53 42.15 -22.83 c 13.7 -2.4 26.1 -1.25 39.8 5.85 c 13.7 7.2 26.69 30.81 40.39 31.61 c 13.7 0.9 28.13 -27.42 41.63 -29.02 c 13.5 -1.7 26.9 4.3 40.4 6.3 s 27.1 0 40.8 -5.3 c 13.7 -5.4 27.3 -14 41 -16.5 s 28.52 13.49 42.22 13.49 s 26.08 -15.98 39.78 -17.98 s 27.3 -2.4 34.2 -2.5 l 6.8 -0.2 v -1 h -900 v 11 z";
const none = "M0,0Z";
const flat = "M0,11h900V0H0v11Z";
const flat2 = "M0,11h859c13.85,0,27.3.1,34.2,0h6.8V0H0v11Z";
const allat11pt =
  "M0,11s5.1.37,6.8,0c6.9-1.51,20.5-.8,34.2,0,13.7.9,27.3-6.4,41,0,13.7,6.3,27.3,1.3,41,0,13.7-1.4,27.3,5.9,41,0,13.7-5.8,27.3-5.8,40.8,0,13.5,5.9,26.9-3.2,40.4,0,13.5,3.2,27.1,6.8,40.8,0s27.3,2,41,0,27.3-3.3,41,0,27.3,1,41,0,27.3-.5,41,0,27.3.9,41,0c13.7-.8,27.3,2.3,41,0,13.7-2.4,27.3-7.1,41,0,13.7,7.2,27.3-.8,41,0,13.7.9,27.3,1.6,40.8,0,13.5-1.7,26.9-2,40.4,0s27.1,5.3,40.8,0c13.7-5.4,27.3,2.5,41,0s27.3,0,41,0,27.3,2,41,0c13.7-2,27.3.1,34.2,0h6.8V0H0v11Z";
const svg1 =
  "M0,11l6.8-1.5c6.9-1.5,20.5-4.5,34.2-3.7,13.7.9,27.3,5.5,41,11.9,13.7,6.3,27.3,14.3,41,13,13.7-1.4,27.3-12,41-17.9,13.7-5.8,27.3-6.8,40.8-1,13.5,5.9,26.9,18.5,40.4,21.7,13.5,3.2,27.1-3.2,40.8-10s27.3-14.2,41-16.2,27.3,1.4,41,4.7,27.3,6.7,41,5.7,27.3-6.4,41-5.9,27.3,6.9,41,6c13.7-.8,27.3-8.8,41-11.1,13.7-2.4,27.3,1,41,8.1,13.7,7.2,27.3,18.2,41,19,13.7.9,27.3-8.5,40.8-10.1,13.5-1.7,26.9,4.3,40.4,6.3s27.1,0,40.8-5.3c13.7-5.4,27.3-14,41-16.5s27.3,1.1,41,1.1,27.3-3.6,41-5.6c13.7-2,27.3-2.4,34.2-2.5l6.8-.2V0H0v11Z";
const svg2 =
  "M0,11l6.8-1.5c6.9-1.5,20.5-4.5,34.2-3.7,13.7.9,27.3,5.5,41,11.9,13.7,6.3,25.76,32.51,39.46,31.21,13.7-1.4,28.84-30.21,42.54-36.11,13.7-5.8,30.89-.71,44.39,5.09,13.5,5.9,23.67,17.29,37.17,20.49,13.5,3.2,26.74-8.08,40.44-14.88s27.23-10.05,40.93-12.05,27.37-2.75,41.07.55,28.06,16.55,41.76,15.55,26.54-16.25,40.24-15.75,27.13,27.18,40.83,26.28c13.7-.8,28.45-20.53,42.15-22.83,13.7-2.4,26.1-1.25,39.8,5.85,13.7,7.2,26.69,30.81,40.39,31.61,13.7.9,28.13-27.42,41.63-29.02,13.5-1.7,26.9,4.3,40.4,6.3s27.1,0,40.8-5.3c13.7-5.4,27.3-14,41-16.5s28.52,13.49,42.22,13.49,26.08-15.99,39.78-17.99c13.7-2,27.3-2.4,34.2-2.5l6.8-.2V0H0v11Z";


  const n1 = "M0,11l6.8-1.5c6.9-1.5,20.5-4.5,34.2-3.7,13.7.9,27.3,5.5,41,11.9,13.7,6.3,25.76,32.51,39.46,31.21,13.7-1.4,28.84-30.21,42.54-36.11,13.7-5.8,30.89-.71,44.39,5.09,13.5,5.9,23.67,17.29,37.17,20.49,13.5,3.2,26.74-8.08,40.44-14.88s27.23-10.05,40.93-12.05,27.37-2.75,41.07.55,28.06,16.55,41.76,15.55,26.54-16.25,40.24-15.75,27.13,27.18,40.83,26.28c13.7-.8,28.45-20.53,42.15-22.83,13.7-2.4,26.1-1.25,39.8,5.85,13.7,7.2,26.69,30.81,40.39,31.61,13.7.9,28.13-27.42,41.63-29.02,13.5-1.7,26.9,4.3,40.4,6.3s27.1,0,40.8-5.3c13.7-5.4,27.3-14,41-16.5s28.52,13.49,42.22,13.49,26.08-15.99,39.78-17.99c13.7-2,27.3-2.4,34.2-2.5l6.8-.2V0H0v11Z"
  const n2 = "M0 33L9.3 34.3C18.7 35.7 37.3 38.3 56.2 40.5C75 42.7 94 44.3 112.8 43C131.7 41.7 150.3 37.3 169 36.3C187.7 35.3 206.3 37.7 225 36.2C243.7 34.7 262.3 29.3 281.2 30.8C300 32.3 319 40.7 337.8 41.2C356.7 41.7 375.3 34.3 394 33.7C412.7 33 431.3 39 450 40.5C468.7 42 487.3 39 506.2 39C525 39 544 42 562.8 43.2C581.7 44.3 600.3 43.7 619 38.7C637.7 33.7 656.3 24.3 675 20.7C693.7 17 712.3 19 731.2 22.5C750 26 769 31 787.8 31.2C806.7 31.3 825.3 26.7 844 26.2C862.7 25.7 881.3 29.3 890.7 31.2L900 33L900 0L890.7 0C881.3 0 862.7 0 844 0C825.3 0 806.7 0 787.8 0C769 0 750 0 731.2 0C712.3 0 693.7 0 675 0C656.3 0 637.7 0 619 0C600.3 0 581.7 0 562.8 0C544 0 525 0 506.2 0C487.3 0 468.7 0 450 0C431.3 0 412.7 0 394 0C375.3 0 356.7 0 337.8 0C319 0 300 0 281.2 0C262.3 0 243.7 0 225 0C206.3 0 187.7 0 169 0C150.3 0 131.7 0 112.8 0C94 0 75 0 56.2 0C37.3 0 18.7 0 9.3 0L0 0Z";

  const n3 = "M0 340L9.3 353.3C18.7 366.7 37.3 393.3 56.2 414.8C75 436.3 94 452.7 112.8 438.3C131.7 424 150.3 379 169 369.8C187.7 360.7 206.3 387.3 225 372.3C243.7 357.3 262.3 300.7 281.2 315.2C300 329.7 319 415.3 337.8 420.7C356.7 426 375.3 351 394 343.7C412.7 336.3 431.3 396.7 450 412C468.7 427.3 487.3 397.7 506.2 397.8C525 398 544 428 562.8 439.3C581.7 450.7 600.3 443.3 619 394.2C637.7 345 656.3 254 675 218.7C693.7 183.3 712.3 203.7 731.2 238.2C750 272.7 769 321.3 787.8 322C806.7 322.7 825.3 275.3 844 270.7C862.7 266 881.3 304 890.7 323L900 342L900 0L890.7 0C881.3 0 862.7 0 844 0C825.3 0 806.7 0 787.8 0C769 0 750 0 731.2 0C712.3 0 693.7 0 675 0C656.3 0 637.7 0 619 0C600.3 0 581.7 0 562.8 0C544 0 525 0 506.2 0C487.3 0 468.7 0 450 0C431.3 0 412.7 0 394 0C375.3 0 356.7 0 337.8 0C319 0 300 0 281.2 0C262.3 0 243.7 0 225 0C206.3 0 187.7 0 169 0C150.3 0 131.7 0 112.8 0C94 0 75 0 56.2 0C37.3 0 18.7 0 9.3 0L0 0Z"
    const n4= "M0 29L9.3 29C18.7 29 37.3 29 56.2 29C75 29 94 29 112.8 29C131.7 29 150.3 29 169 29C187.7 29 206.3 29 225 29C243.7 29 262.3 29 281.2 29C300 29 319 29 337.8 29C356.7 29 375.3 29 394 29C412.7 29 431.3 29 450 29C468.7 29 487.3 29 506.2 29C525 29 544 29 562.8 29C581.7 29 600.3 29 619 29C637.7 29 656.3 29 675 29C693.7 29 712.3 29 731.2 29C750 29 769 29 787.8 29C806.7 29 825.3 29 844 29C862.7 29 881.3 29 890.7 29L900 29L900 0L890.7 0C881.3 0 862.7 0 844 0C825.3 0 806.7 0 787.8 0C769 0 750 0 731.2 0C712.3 0 693.7 0 675 0C656.3 0 637.7 0 619 0C600.3 0 581.7 0 562.8 0C544 0 525 0 506.2 0C487.3 0 468.7 0 450 0C431.3 0 412.7 0 394 0C375.3 0 356.7 0 337.8 0C319 0 300 0 281.2 0C262.3 0 243.7 0 225 0C206.3 0 187.7 0 169 0C150.3 0 131.7 0 112.8 0C94 0 75 0 56.2 0C37.3 0 18.7 0 9.3 0L0 0Z"
    const n5 = "M0 28L9.3 26.3C18.7 24.7 37.3 21.3 56.2 20.3C75 19.3 94 20.7 112.8 24.3C131.7 28 150.3 34 169 33.7C187.7 33.3 206.3 26.7 225 23.8C243.7 21 262.3 22 281.2 22.7C300 23.3 319 23.7 337.8 24C356.7 24.3 375.3 24.7 394 25.5C412.7 26.3 431.3 27.7 450 26.3C468.7 25 487.3 21 506.2 22.3C525 23.7 544 30.3 562.8 31.8C581.7 33.3 600.3 29.7 619 30C637.7 30.3 656.3 34.7 675 33.5C693.7 32.3 712.3 25.7 731.2 25C750 24.3 769 29.7 787.8 30.5C806.7 31.3 825.3 27.7 844 28.3C862.7 29 881.3 34 890.7 36.5L900 39L900 0L890.7 0C881.3 0 862.7 0 844 0C825.3 0 806.7 0 787.8 0C769 0 750 0 731.2 0C712.3 0 693.7 0 675 0C656.3 0 637.7 0 619 0C600.3 0 581.7 0 562.8 0C544 0 525 0 506.2 0C487.3 0 468.7 0 450 0C431.3 0 412.7 0 394 0C375.3 0 356.7 0 337.8 0C319 0 300 0 281.2 0C262.3 0 243.7 0 225 0C206.3 0 187.7 0 169 0C150.3 0 131.7 0 112.8 0C94 0 75 0 56.2 0C37.3 0 18.7 0 9.3 0L0 0Z"

    const n6 = "M0 289L9.3 272.5C18.7 256 37.3 223 56.2 212.2C75 201.3 94 212.7 112.8 249C131.7 285.3 150.3 346.7 169 343.5C187.7 340.3 206.3 272.7 225 244.5C243.7 216.3 262.3 227.7 281.2 235C300 242.3 319 245.7 337.8 248.3C356.7 251 375.3 253 394 261.2C412.7 269.3 431.3 283.7 450 271.5C468.7 259.3 487.3 220.7 506.2 234C525 247.3 544 312.7 562.8 327.5C581.7 342.3 600.3 306.7 619 310.8C637.7 315 656.3 359 675 346.8C693.7 334.7 712.3 266.3 731.2 258.8C750 251.3 769 304.7 787.8 312.8C806.7 321 825.3 284 844 291.7C862.7 299.3 881.3 351.7 890.7 377.8L900 404L900 0L890.7 0C881.3 0 862.7 0 844 0C825.3 0 806.7 0 787.8 0C769 0 750 0 731.2 0C712.3 0 693.7 0 675 0C656.3 0 637.7 0 619 0C600.3 0 581.7 0 562.8 0C544 0 525 0 506.2 0C487.3 0 468.7 0 450 0C431.3 0 412.7 0 394 0C375.3 0 356.7 0 337.8 0C319 0 300 0 281.2 0C262.3 0 243.7 0 225 0C206.3 0 187.7 0 169 0C150.3 0 131.7 0 112.8 0C94 0 75 0 56.2 0C37.3 0 18.7 0 9.3 0L0 0Z"
    const n7 = "M0 9L9.3 9C18.7 9 37.3 9 56.2 9C75 9 94 9 112.8 9C131.7 9 150.3 9 169 9C187.7 9 206.3 9 225 9C243.7 9 262.3 9 281.2 9C300 9 319 9 337.8 9C356.7 9 375.3 9 394 9C412.7 9 431.3 9 450 9C468.7 9 487.3 9 506.2 9C525 9 544 9 562.8 9C581.7 9 600.3 9 619 9C637.7 9 656.3 9 675 9C693.7 9 712.3 9 731.2 9C750 9 769 9 787.8 9C806.7 9 825.3 9 844 9C862.7 9 881.3 9 890.7 9L900 9L900 0L890.7 0C881.3 0 862.7 0 844 0C825.3 0 806.7 0 787.8 0C769 0 750 0 731.2 0C712.3 0 693.7 0 675 0C656.3 0 637.7 0 619 0C600.3 0 581.7 0 562.8 0C544 0 525 0 506.2 0C487.3 0 468.7 0 450 0C431.3 0 412.7 0 394 0C375.3 0 356.7 0 337.8 0C319 0 300 0 281.2 0C262.3 0 243.7 0 225 0C206.3 0 187.7 0 169 0C150.3 0 131.7 0 112.8 0C94 0 75 0 56.2 0C37.3 0 18.7 0 9.3 0L0 0Z"

    const keyframesOverlay = [n7, n6];

const TheDrip = ({ pathname }: { pathname?: string }) => {
  const { scrollY } = useScroll();
  const drip = useTransform(scrollY, [0, 500], keyframesOverlay, 
    { ease: cubicBezier(0.17, 0.67, 0.83, 0.67),  });
    const { isMobile } = useViewportSize()
  return (
    <div className="w-full  absolute z-20">
      <svg className="overlay border-white border-t-[100px] lg:border-t-0" viewBox={`0 0 ${isMobile ? 700:900} 500`} width="100%" height={"100%"}>
        <motion.path d={drip} fill={"#ffffff"} />
      </svg>
    </div>
  );
};

export default TheDrip;
